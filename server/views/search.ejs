<html lang="en">
<%- include('./partials/head.ejs') %>

<body>
    <form action="<%= `/api/books/search` %>" method="GET">
        <label for="search"></label>
        <input 
            type="text"
            id="search"
            name="search"
            placeholder="Search by title, author or category..."
        >
        <button>Search</button>
    </form>
    <div>
        <p>Search Results</p>
        <div>
            <% if(filteredBooks != null){ %>
                <% filteredBooks.forEach(book => { %>
                <a href="/api/books/<%= book.id %>">
                    <h3><%= book.title %></h3>
                    <h4><%= book.author %></h4>
                    <p><%= book.year_published %></p>
                    <p><%= book.category %></p>
                </a>
                <% }) %>
            <% } else { %>
                <p>No books available</p>
            <% } %>
        </div>
    </div>
    <%- include('./partials/footer.ejs') %>
</body>
</html>

