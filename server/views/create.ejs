<html lang="en">
<%- include('./partials/head.ejs') %>

<body>
    <a href="/">Go back to homepage</a>
    <p>Admin page</p>
    <p>Create a book listing</p>
    <form action="/api/books/create" method="POST">
        <label for="title">Title</label>
        <input 
            type="text"
            id="title"
            name="title"
            placeholder="Enter book title"
            required
        >
        <label for="author">Author(s)</label>
        <input 
            type="text"
            id="author"
            name="author"
            placeholder="Enter book author(s)"
            required
        >
        <label for="description">Description</label>
        <textarea
            id="description"
            name="description"
            placeholder="Enter book description"
            required
        ></textarea>
        <label for="year_published">Year Published</label>
        <input 
            type="number"
            id="year_published"
            name="year_published"
            placeholder="Enter year of publication"
            required
        >
        <label for="category">Category</label>
        <select name="category" id="category">
            <option value="Action and adventure" selected>Action and adventure</option>
            <option value="Alternate history">Alternate history</option>
            <option value="Art/architecture">Art/architecture</option>
            <option value="Autobiography">Autobiography</option>
            <option value="Biography">Biography</option>
            <option value="Business/economics">Business/economics</option>
            <option value="Children's">Children's</option>
            <option value="Classic">Classic</option>
            <option value="Comic book">Comic book</option>
            <option value="Cookbook">Cookbook</option>
            <option value="Crafts/hobbies">Crafts/hobbies</option>
            <option value="Crime">Crime</option>
            <option value="Dictionary">Dictionary</option>
            <option value="Drama">Drama</option>
            <option value="Encyclopedia">Encyclopedia</option>
            <option value="Fantasy">Graphic novel</option>
            <option value="Guide">Guide</option>
            <option value="Health/fitness">Health/fitness</option>
            <option value="History">History</option>
            <option value="Historical fiction">Historical fiction</option>
            <option value="Home and garden">Home and garden</option>
            <option value="Horror">Horror</option>
            <option value="Humor">Humor</option>
            <option value="Journal">Journal</option>
            <option value="Math">Math</option>
            <option value="Memoir">Memoir</option>
            <option value="Military">Military</option>
            <option value="Military Fiction">Military Fiction</option>
            <option value="Mystery">Mystery</option>
            <option value="Philosophy">Philosophy</option>
            <option value="Picture book">Picture book</option>
            <option value="Poetry">Poetry</option>
            <option value="Political thriller">Political thriller</option>
            <option value="Religion, spirituality, and new age">Religion, spirituality, and new age</option>
            <option value="Review">Review</option>
            <option value="Satire">Satire</option>
            <option value="Science">Science</option>
            <option value="Science fiction">Science fiction</option>
            <option value="Short story">Short story</option>
            <option value="Sports and leisure">Sports and leisure</option>
            <option value="Suspense">Suspense</option>
            <option value="Textbook">Textbook</option>
            <option value="Thriller">Thriller</option>
            <option value="Travel">Travel</option>
            <option value="True crime">True crime</option>
            <option value="Western">Western</option>
        </select>
        <label for="ISBN">ISBN</label>
        <input 
            type="text"
            id="ISBN"
            name="ISBN"
            placeholder="Enter book ISBN"
            required
        >
        <button>Submit</button>
    </form>
    <div>
        <% if(books != null){ %>
            <% books.forEach(book => { %>
            <a href="/api/books/<%= book.id %>">
                <h3><%= book.title %></h3>
                <h4><%= book.author %></h4>
                <p><%= book.year_published %></p>
                <p><%= book.category %></p>
            </a>
            <a href="<%=`/api/books/${book.id}/edit` %>"><button>Edit</button></a>
            <% }) %>
        <% } else { %>
            <p>No books available</p>
        <% } %>
    </div>
    <%- include('./partials/footer.ejs') %>
</body>
</html>